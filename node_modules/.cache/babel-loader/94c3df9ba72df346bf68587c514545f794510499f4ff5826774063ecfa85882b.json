{"ast":null,"code":"import React,{useEffect,useRef,useState,useCallback}from\"react\";import{useLocation}from\"react-router-dom\";import io from\"socket.io-client\";import SimplePeer from\"simple-peer\";import{v4 as uuidv4}from\"uuid\";import\"./Chat.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chat=()=>{const[localStream,setLocalStream]=useState(null);const[remoteStream,setRemoteStream]=useState(null);const[userId,setUserId]=useState(null);const[targetUserId,setTargetUserId]=useState(\"\");const[isConnected,setIsConnected]=useState(false);const[error,setError]=useState(\"\");const localVideoRef=useRef(null);const remoteVideoRef=useRef(null);const socket=useRef(null);const peerConnection=useRef(null);const location=useLocation();const{matchUserId}=location.state||{};// ✅ Memoized peer connection creation\nconst createPeerConnection=useCallback(senderId=>{if(peerConnection.current||!localStream)return;peerConnection.current=new SimplePeer({initiator:false,trickle:false,stream:localStream});peerConnection.current.on(\"stream\",stream=>{setRemoteStream(stream);if(remoteVideoRef.current){remoteVideoRef.current.srcObject=stream;}});peerConnection.current.on(\"signal\",data=>{socket.current.emit(\"answer\",{answer:data,targetUserId:senderId,senderId:userId});});peerConnection.current.on(\"error\",err=>{console.error(\"Peer Connection Error:\",err);});peerConnection.current.on(\"close\",()=>{console.warn(\"Peer connection closed. Resetting...\");peerConnection.current=null;setIsConnected(false);});setIsConnected(true);},[localStream,userId]);useEffect(()=>{const uniqueId=uuidv4();setUserId(uniqueId);socket.current=io(\"http://localhost:5000\",{transports:[\"websocket\"]});socket.current.emit(\"register-user\",{userId:uniqueId});socket.current.on(\"disconnect\",()=>{console.warn(\"Socket disconnected.\");setIsConnected(false);});socket.current.on(\"user-not-found\",_ref=>{let{userId}=_ref;setError(\"User \".concat(userId,\" not found.\"));});socket.current.on(\"random-user-found\",_ref2=>{let{userId}=_ref2;setTargetUserId(userId);socket.current.emit(\"join-chat\",{userId,senderId:uniqueId});});socket.current.on(\"no-active-users\",()=>{setError(\"No active users found.\");});navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(stream=>{setLocalStream(stream);if(localVideoRef.current){localVideoRef.current.srcObject=stream;}if(matchUserId){setTargetUserId(matchUserId);socket.current.emit(\"join-chat\",{userId:matchUserId,senderId:uniqueId});}}).catch(err=>{console.error(\"Error accessing media devices:\",err);});socket.current.on(\"offer\",async _ref3=>{let{offer,senderId}=_ref3;try{if(!peerConnection.current){createPeerConnection(senderId);}await peerConnection.current.signal(offer);}catch(err){console.error(\"Error handling offer:\",err);}});socket.current.on(\"answer\",async _ref4=>{let{answer}=_ref4;try{if(peerConnection.current){await peerConnection.current.signal(answer);}}catch(err){console.error(\"Error handling answer:\",err);}});socket.current.on(\"ice-candidate\",async _ref5=>{let{candidate}=_ref5;try{if(peerConnection.current){await peerConnection.current.signal(candidate);}}catch(err){console.error(\"Error adding ICE candidate:\",err);}});return()=>{if(localStream){localStream.getTracks().forEach(track=>track.stop());}if(peerConnection.current){peerConnection.current.destroy();peerConnection.current=null;}if(socket.current){socket.current.disconnect();}};},[matchUserId,createPeerConnection,localStream]);const handleConnectToUser=()=>{if(!targetUserId||!userId){setError(\"Target User ID or User ID is missing.\");return;}setError(\"\");socket.current.emit(\"join-chat\",{userId:targetUserId,senderId:userId});};const handleAutoConnect=()=>{if(!userId){setError(\"User ID is missing.\");return;}setError(\"\");socket.current.emit(\"find-random-user\",{senderId:userId});};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Video Chat\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your User ID: \",userId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"connect-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Target User ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleConnectToUser,children:\"Connect\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAutoConnect,children:\"Auto Connect\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-container\",children:[/*#__PURE__*/_jsx(\"video\",{ref:localVideoRef,autoPlay:true,muted:true,className:\"local-video\"}),/*#__PURE__*/_jsx(\"video\",{ref:remoteVideoRef,autoPlay:true,className:\"remote-video\",style:{border:isConnected?\"3px solid green\":\"3px solid red\"}})]}),remoteStream&&/*#__PURE__*/_jsx(\"p\",{children:\"Remote stream is active!\"})]});};export default Chat;","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","useLocation","io","SimplePeer","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","Chat","localStream","setLocalStream","remoteStream","setRemoteStream","userId","setUserId","targetUserId","setTargetUserId","isConnected","setIsConnected","error","setError","localVideoRef","remoteVideoRef","socket","peerConnection","location","matchUserId","state","createPeerConnection","senderId","current","initiator","trickle","stream","on","srcObject","data","emit","answer","err","console","warn","uniqueId","transports","_ref","concat","_ref2","navigator","mediaDevices","getUserMedia","video","audio","then","catch","_ref3","offer","signal","_ref4","_ref5","candidate","getTracks","forEach","track","stop","destroy","disconnect","handleConnectToUser","handleAutoConnect","className","children","type","placeholder","value","onChange","e","target","onClick","ref","autoPlay","muted","style","border"],"sources":["C:/Users/premk/Downloads/Chat/frontend/src/pages/Chat.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport SimplePeer from \"simple-peer\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport \"./Chat.css\";\r\n\r\nconst Chat = () => {\r\n  const [localStream, setLocalStream] = useState(null);\r\n  const [remoteStream, setRemoteStream] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [targetUserId, setTargetUserId] = useState(\"\");\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const localVideoRef = useRef(null);\r\n  const remoteVideoRef = useRef(null);\r\n  const socket = useRef(null);\r\n  const peerConnection = useRef(null);\r\n  const location = useLocation();\r\n  const { matchUserId } = location.state || {};\r\n\r\n  // ✅ Memoized peer connection creation\r\n  const createPeerConnection = useCallback(\r\n    (senderId) => {\r\n      if (peerConnection.current || !localStream) return;\r\n\r\n      peerConnection.current = new SimplePeer({\r\n        initiator: false,\r\n        trickle: false,\r\n        stream: localStream,\r\n      });\r\n\r\n      peerConnection.current.on(\"stream\", (stream) => {\r\n        setRemoteStream(stream);\r\n        if (remoteVideoRef.current) {\r\n          remoteVideoRef.current.srcObject = stream;\r\n        }\r\n      });\r\n\r\n      peerConnection.current.on(\"signal\", (data) => {\r\n        socket.current.emit(\"answer\", {\r\n          answer: data,\r\n          targetUserId: senderId,\r\n          senderId: userId,\r\n        });\r\n      });\r\n\r\n      peerConnection.current.on(\"error\", (err) => {\r\n        console.error(\"Peer Connection Error:\", err);\r\n      });\r\n\r\n      peerConnection.current.on(\"close\", () => {\r\n        console.warn(\"Peer connection closed. Resetting...\");\r\n        peerConnection.current = null;\r\n        setIsConnected(false);\r\n      });\r\n\r\n      setIsConnected(true);\r\n    },\r\n    [localStream, userId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const uniqueId = uuidv4();\r\n    setUserId(uniqueId);\r\n\r\n    socket.current = io(\"http://localhost:5000\", { transports: [\"websocket\"] });\r\n    socket.current.emit(\"register-user\", { userId: uniqueId });\r\n\r\n    socket.current.on(\"disconnect\", () => {\r\n      console.warn(\"Socket disconnected.\");\r\n      setIsConnected(false);\r\n    });\r\n\r\n    socket.current.on(\"user-not-found\", ({ userId }) => {\r\n      setError(`User ${userId} not found.`);\r\n    });\r\n\r\n    socket.current.on(\"random-user-found\", ({ userId }) => {\r\n      setTargetUserId(userId);\r\n      socket.current.emit(\"join-chat\", { userId, senderId: uniqueId });\r\n    });\r\n\r\n    socket.current.on(\"no-active-users\", () => {\r\n      setError(\"No active users found.\");\r\n    });\r\n\r\n    navigator.mediaDevices\r\n      .getUserMedia({ video: true, audio: true })\r\n      .then((stream) => {\r\n        setLocalStream(stream);\r\n        if (localVideoRef.current) {\r\n          localVideoRef.current.srcObject = stream;\r\n        }\r\n\r\n        if (matchUserId) {\r\n          setTargetUserId(matchUserId);\r\n          socket.current.emit(\"join-chat\", {\r\n            userId: matchUserId,\r\n            senderId: uniqueId,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error accessing media devices:\", err);\r\n      });\r\n\r\n    socket.current.on(\"offer\", async ({ offer, senderId }) => {\r\n      try {\r\n        if (!peerConnection.current) {\r\n          createPeerConnection(senderId);\r\n        }\r\n        await peerConnection.current.signal(offer);\r\n      } catch (err) {\r\n        console.error(\"Error handling offer:\", err);\r\n      }\r\n    });\r\n\r\n    socket.current.on(\"answer\", async ({ answer }) => {\r\n      try {\r\n        if (peerConnection.current) {\r\n          await peerConnection.current.signal(answer);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error handling answer:\", err);\r\n      }\r\n    });\r\n\r\n    socket.current.on(\"ice-candidate\", async ({ candidate }) => {\r\n      try {\r\n        if (peerConnection.current) {\r\n          await peerConnection.current.signal(candidate);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error adding ICE candidate:\", err);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      if (localStream) {\r\n        localStream.getTracks().forEach((track) => track.stop());\r\n      }\r\n      if (peerConnection.current) {\r\n        peerConnection.current.destroy();\r\n        peerConnection.current = null;\r\n      }\r\n      if (socket.current) {\r\n        socket.current.disconnect();\r\n      }\r\n    };\r\n  }, [matchUserId, createPeerConnection, localStream]);\r\n\r\n  const handleConnectToUser = () => {\r\n    if (!targetUserId || !userId) {\r\n      setError(\"Target User ID or User ID is missing.\");\r\n      return;\r\n    }\r\n    setError(\"\");\r\n    socket.current.emit(\"join-chat\", { userId: targetUserId, senderId: userId });\r\n  };\r\n\r\n  const handleAutoConnect = () => {\r\n    if (!userId) {\r\n      setError(\"User ID is missing.\");\r\n      return;\r\n    }\r\n    setError(\"\");\r\n    socket.current.emit(\"find-random-user\", { senderId: userId });\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      <h1>Video Chat</h1>\r\n      <p>Your User ID: {userId}</p>\r\n      <div className=\"connect-section\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter Target User ID\"\r\n          value={targetUserId}\r\n          onChange={(e) => setTargetUserId(e.target.value)}\r\n        />\r\n        <button onClick={handleConnectToUser}>Connect</button>\r\n        <button onClick={handleAutoConnect}>Auto Connect</button>\r\n      </div>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {/* 👇 Now using remoteStream and isConnected to avoid ESLint warnings */}\r\n      <div className=\"video-container\">\r\n        <video ref={localVideoRef} autoPlay muted className=\"local-video\" />\r\n        <video\r\n          ref={remoteVideoRef}\r\n          autoPlay\r\n          className=\"remote-video\"\r\n          style={{\r\n            border: isConnected ? \"3px solid green\" : \"3px solid red\",\r\n          }}\r\n        />\r\n      </div>\r\n      {remoteStream && <p>Remote stream is active!</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}